{% extends 'base.html' %}

{% block title %}{{ task.task_name }}{% endblock %}


{% block content %}

<h2 style="font-size: 30px; font-family: Times, serif; color: green; text-align: center">{{task.task_name}}</h2>

<form action="{% url 'bert_classifier:index' %}" method="POST">

    {% csrf_token %}

    <button type="submit" style="border-radius: 8px; font-size: 20px; background: #B2FF18">На главную</button>

</form>

<hr>

    {% if latest_predictions %}

        {% for p in latest_predictions %}
            <p>
                <strong style="font-size: 20px; font-family: Times, serif; color: black">Изображение</strong><br>
                <img src="{{ p.image.url }}" alt="img" style="max-height:300px" style="max-width:300px" /><br>
                <strong style="font-size: 20px; font-family: Times, serif; color: black">Предсказание:</strong>
                <pre>{{ p.image_class }}</pre>
            </p>
        {% endfor %}

    {% else %}
    Нет предыдущих результатов.
    {% endif %}

</hr>


<form action="{% url 'image_classification:predict' task.id %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
      {{ form.as_p }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">

    <button type="submit" style="border-radius: 8px; font-size: 20px; background: #B2FF18">Загрузить</button>
</form>

{% endblock %}

